<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Set custom optimizer in maxlogLreg — set_optimizer • EstimationTools</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Set custom optimizer in maxlogLreg — set_optimizer"><meta name="description" content="This function allows the selection of a custom S3 optimizer and additional
arguments to be passed to it."><meta property="og:description" content="This function allows the selection of a custom S3 optimizer and additional
arguments to be passed to it."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">EstimationTools</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">4.3.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/Bootstrap_implementation.html">Bootstrap implementation</a></li>
    <li><a class="dropdown-item" href="../articles/Examples.html">Estimation with `maxlogL` objects</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Jaimemosg/EstimationTools/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Set custom optimizer in <code>maxlogLreg</code></h1>
      <small class="dont-index">Source: <a href="https://github.com/Jaimemosg/EstimationTools/blob/master/R/custom_optimizer.R" class="external-link"><code>R/custom_optimizer.R</code></a></small>
      <div class="d-none name"><code>set_optimizer.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function allows the selection of a custom S3 optimizer and additional
arguments to be passed to it.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">set_optimizer</span><span class="op">(</span></span>
<span>  <span class="va">optimizer_name</span>,</span>
<span>  <span class="va">objective_name</span>,</span>
<span>  <span class="va">start_name</span>,</span>
<span>  <span class="va">lower_name</span>,</span>
<span>  <span class="va">upper_name</span>,</span>
<span>  <span class="va">optim_vals_name</span>,</span>
<span>  <span class="va">objective_vals_name</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-optimizer-name">optimizer_name<a class="anchor" aria-label="anchor" href="#arg-optimizer-name"></a></dt>
<dd><p>a one-length character specifying the name of the optimizer to be used.</p></dd>


<dt id="arg-objective-name">objective_name<a class="anchor" aria-label="anchor" href="#arg-objective-name"></a></dt>
<dd><p>a one-length character with the name of the optimizer.</p></dd>


<dt id="arg-start-name">start_name<a class="anchor" aria-label="anchor" href="#arg-start-name"></a></dt>
<dd><p>a one-length character with the name of the start/initial
values input argument.</p></dd>


<dt id="arg-lower-name">lower_name<a class="anchor" aria-label="anchor" href="#arg-lower-name"></a></dt>
<dd><p>a one-length character with the name of the lower bounds
input argument.</p></dd>


<dt id="arg-upper-name">upper_name<a class="anchor" aria-label="anchor" href="#arg-upper-name"></a></dt>
<dd><p>a one-length character with the name of the upper bounds
input argument.</p></dd>


<dt id="arg-optim-vals-name">optim_vals_name<a class="anchor" aria-label="anchor" href="#arg-optim-vals-name"></a></dt>
<dd><p>a one-length character with the name of the optimum
values output argument.</p></dd>


<dt id="arg-objective-vals-name">objective_vals_name<a class="anchor" aria-label="anchor" href="#arg-objective-vals-name"></a></dt>
<dd><p>a one-length character with the name of the objective
function name output argument.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Further arguments to be passed to the selected optimizer. Do not
include lower bounds, upper bounds and start/initial values. It must
be included in the <code>maxlogLreg</code> function definition</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>a list containing the selected optimizer name and the additional,
the names of the start values argument, upper and lower bounds, optimum output
values, objective function output value and the arguments passed to it.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://jaimemosg.github.io/EstimationTools/">EstimationTools</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#--------------------------------------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co"># Example 1: Estimation in simulated normal distribution (alternative</span></span></span>
<span class="r-in"><span><span class="co"># implementation using `nlminb` as a custom optimizer)</span></span></span>
<span class="r-in"><span><span class="va">n</span> <span class="op">&lt;-</span> <span class="fl">1000</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span>n <span class="op">=</span> <span class="va">n</span>, <span class="op">-</span><span class="fl">5</span>, <span class="fl">6</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span>n <span class="op">=</span> <span class="va">n</span>, mean <span class="op">=</span> <span class="op">-</span><span class="fl">2</span> <span class="op">+</span> <span class="fl">3</span> <span class="op">*</span> <span class="va">x</span>, sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="fl">0.3</span><span class="op">*</span> <span class="va">x</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">norm_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">y</span>, x <span class="op">=</span> <span class="va">x</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">formulas</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>sd.fo <span class="op">=</span> <span class="op">~</span> <span class="va">x</span>, mean.fo <span class="op">=</span> <span class="op">~</span> <span class="va">x</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">support</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>interval <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="cn">Inf</span>, <span class="cn">Inf</span><span class="op">)</span>, type <span class="op">=</span> <span class="st">'continuous'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Default optimizer</span></span></span>
<span class="r-in"><span><span class="va">norm_mod1</span> <span class="op">&lt;-</span> <span class="fu"><a href="maxlogLreg.html">maxlogLreg</a></span><span class="op">(</span><span class="va">formulas</span>, y_dist <span class="op">=</span> <span class="va">y</span> <span class="op">~</span> <span class="va">dnorm</span>, support <span class="op">=</span> <span class="va">support</span>,</span></span>
<span class="r-in"><span>                        data <span class="op">=</span> <span class="va">norm_data</span>,</span></span>
<span class="r-in"><span>                        link <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>over <span class="op">=</span> <span class="st">"sd"</span>, fun <span class="op">=</span> <span class="st">"log_link"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">norm_mod1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> _______________________________________________________________</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Optimization routine: nlminb </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Standard Error calculation: Hessian from optim </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> _______________________________________________________________</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        AIC      BIC</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   5144.876 5164.507</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> _______________________________________________________________</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Fixed effects for mean</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              Estimate Std. Error Z value  Pr(&gt;|z|)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept) -1.908889   0.113577 -16.807 &lt; 2.2e-16 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x            2.994229   0.030304  98.806 &lt; 2.2e-16 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> _______________________________________________________________</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Fixed effects for log(sd) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              Estimate Std. Error Z value  Pr(&gt;|z|)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept) 1.0061877  0.0226018  44.518 &lt; 2.2e-16 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x           0.3019456  0.0069372  43.525 &lt; 2.2e-16 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> _______________________________________________________________</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Note: p-values valid under asymptotic normality of estimators </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Use the default optimizer as a custom one</span></span></span>
<span class="r-in"><span><span class="va">optimizer</span> <span class="op">&lt;-</span> <span class="fu">set_optimizer</span><span class="op">(</span></span></span>
<span class="r-in"><span>  optimizer_name <span class="op">=</span> <span class="st">"nlminb"</span>,</span></span>
<span class="r-in"><span>  objective_name <span class="op">=</span> <span class="st">"objective"</span>,</span></span>
<span class="r-in"><span>  start_name <span class="op">=</span> <span class="st">"start"</span>,</span></span>
<span class="r-in"><span>  lower_name <span class="op">=</span> <span class="st">"lower"</span>,</span></span>
<span class="r-in"><span>  upper_name <span class="op">=</span> <span class="st">"upper"</span>,</span></span>
<span class="r-in"><span>  optim_vals_name <span class="op">=</span> <span class="st">"par"</span>,</span></span>
<span class="r-in"><span>  objective_vals_name <span class="op">=</span> <span class="st">"objective"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">norm_mod2</span> <span class="op">&lt;-</span> <span class="fu"><a href="maxlogLreg.html">maxlogLreg</a></span><span class="op">(</span><span class="va">formulas</span>, y_dist <span class="op">=</span> <span class="va">y</span> <span class="op">~</span> <span class="va">dnorm</span>, support <span class="op">=</span> <span class="va">support</span>,</span></span>
<span class="r-in"><span>                        data <span class="op">=</span> <span class="va">norm_data</span>,</span></span>
<span class="r-in"><span>                        link <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>over <span class="op">=</span> <span class="st">"sd"</span>, fun <span class="op">=</span> <span class="st">"log_link"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                        optimizer <span class="op">=</span> <span class="va">optimizer</span>, start<span class="op">=</span> <span class="cn">NULL</span>, lower <span class="op">=</span> <span class="cn">NULL</span>,</span></span>
<span class="r-in"><span>                        upper <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">norm_mod2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> _______________________________________________________________</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Optimization routine: nlminb Optimization routine: objective Optimization routine: list(lower_name = "lower", upper_name = "upper", start_name = "start") Optimization routine: list(optim_vals = "par", objective_vals = "objective") Optimization routine: NULL </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Standard Error calculation: Hessian from optim </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> _______________________________________________________________</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         AIC       BIC</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   -5128.876 -5109.245</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> _______________________________________________________________</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Fixed effects for mean</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              Estimate Std. Error Z value  Pr(&gt;|z|)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept) -1.908889   0.113577 -16.807 &lt; 2.2e-16 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x            2.994229   0.030304  98.806 &lt; 2.2e-16 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> _______________________________________________________________</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Fixed effects for log(sd) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              Estimate Std. Error Z value  Pr(&gt;|z|)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept) 1.0061877  0.0226018  44.518 &lt; 2.2e-16 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x           0.3019456  0.0069372  43.525 &lt; 2.2e-16 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> _______________________________________________________________</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Note: p-values valid under asymptotic normality of estimators </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jaime Mosquera.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

